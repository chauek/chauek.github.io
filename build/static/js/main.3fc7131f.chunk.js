(this["webpackJsonpchauek.github.io"]=this["webpackJsonpchauek.github.io"]||[]).push([[0],{150:function(e,r,t){"use strict";t.r(r);var a=t(0),o=t.n(a),n=t(44),c=t.n(n),i=(t(53),t(10)),s=t.n(i),d=t(27),l=t(4),u=t(45),b=t.n(u),v=(t(55),t(46)),m=function(e){var r={label:"Active",fill:!1,lineTension:.1,backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(192,92,41)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(192,92,41,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(192,92,41,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:e.activeData},t={labels:e.labels,datasets:[Object.assign({},r,{label:"Confirmed",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgb(99,255,255)",pointBackgroundColor:"rgb(99,255,255)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",data:e.confirmedData}),Object.assign({},r,{label:"Active",backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(255,122,54)",pointBackgroundColor:"rgb(255,122,54)",pointBorderColor:"rgba(192,92,41,1)",pointHoverBackgroundColor:"rgba(192,92,41,1)",data:e.activeData}),Object.assign({},r,{label:"Recovered",backgroundColor:"rgba(113,192,56,0.4)",borderColor:"rgb(113,192,56)",pointBorderColor:"rgb(113,192,56)",pointBackgroundColor:"rgb(167,255,65)",pointHoverBackgroundColor:"rgb(113,192,56)",data:e.recoveredData}),Object.assign({},r,{label:"Deaths",backgroundColor:"rgba(188,192,187,0.4)",borderColor:"rgb(188,192,187)",pointBorderColor:"rgb(188,192,187)",pointBackgroundColor:"rgb(251,255,249)",pointHoverBackgroundColor:"rgb(188,192,187)",data:e.deathsData})]};return o.a.createElement(v.a,{data:t,options:{maintainAspectRatio:!0}})},g=function(e){var r=Object(a.useState)(!0),t=Object(l.a)(r,2),n=t[0],c=t[1],i=e.country,s=e.summary,d=e.data,u="".concat(null===s||void 0===s?void 0:s.confirmed)||"-",b="".concat(null===s||void 0===s?void 0:s.recovered)||"-",v="".concat(null===s||void 0===s?void 0:s.deaths)||"-",g="".concat(null===s||void 0===s?void 0:s.active)||"-";return o.a.createElement("div",{className:"col-6",key:i},o.a.createElement("h1",null,o.a.createElement("a",{onClick:function(){return c(!n)}},i," ",o.a.createElement("span",{className:"active"},g)," ",o.a.createElement("span",{className:"confirmed"},u)," ",o.a.createElement("span",{className:"recovered"},b)," ",o.a.createElement("span",{className:"deaths"},v))),n&&o.a.createElement(m,{labels:Object.keys(d.confirmed),confirmedData:Object.values(d.confirmed),recoveredData:Object.values(d.recovered),deathsData:Object.values(d.deaths),activeData:Object.values(d.active)}))},f=t(26),h=t.n(f);var p=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";return Object.keys(e).sort((function(a,o){var n=e[a][r],c=e[o][r];return"desc"===t?n===c?0:n<c?1:-1:n===c?0:n>c?1:-1}))},C=function(e){for(var r=Object.keys(e),t=0;t<r.length;t+=1)for(var a=e[r[t]],o=Object.keys(a.confirmed),n=0;n<o.length;n+=1){var c=o[n];a.active[c]=a.confirmed[c]-a.recovered[c]-a.deaths[c]}},k=function(e,r,t){for(var a=function(a){var o=r[a],n=o["Country/Region"];e[n]||(e[n]={confirmed:{},recovered:{},deaths:{},active:{}}),Object.keys(o).filter((function(e){return e.match(/[0-9/]{6,}/)})).forEach((function(r){var a=h()(r,"M/D/YY").format("D.M.YY");e[n][t][a]=parseInt(o[r])+(0|e[n][t][a])}))},o=0;o<r.length;o+=1)a(o)},O=function(e){var r={};return Object.keys(e).forEach((function(t){var a=Object.keys(e[t].confirmed),o=Object.keys(e[t].recovered),n=Object.keys(e[t].deaths),c=e[t].confirmed[a[a.length-1]],i=e[t].recovered[o[o.length-1]],s=e[t].deaths[n[n.length-1]];r[t]={confirmed:c,recovered:i,deaths:s,active:c-i-s}})),r};function y(e){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(s.a.mark((function e(r){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(r);case 2:return t=e.sent,e.abrupt("return",b.a.parse(t,{header:!0}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(r).then((function(e){if(!e.body)return"";var r=e.body.getReader(),t=new TextDecoder("utf-8");return r.read().then((function(e){return t.decode(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=Object(a.useState)(!1),r=Object(l.a)(e,2),t=r[0],n=r[1],c=Object(a.useState)({}),i=Object(l.a)(c,2),s=i[0],d=i[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),v=b[0],m=b[1],f=Object(a.useState)({}),h=Object(l.a)(f,2),j=h[0],_=h[1];return t||Promise.all([y("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv"),y("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"),y("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv")]).then((function(e){var r=Object(l.a)(e,3),t=r[0],a=r[1],o=r[2];n(!0),console.log("confirmed",t),console.log("recovered",a),console.log("deaths",o);var c={};k(c,t.data,"confirmed"),k(c,a.data,"recovered"),k(c,o.data,"deaths"),C(c),console.log("byCountry",c);var i=O(c);console.log("byCountrySummary",i),d(c),_(i);var s=p(i,"confirmed");m(s)})),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},v.map((function(e,r){return o.a.createElement(g,{country:e,summary:j[e],data:s[e],key:e})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,r,t){e.exports=t(150)},53:function(e,r,t){},55:function(e,r,t){}},[[48,1,2]]]);
//# sourceMappingURL=main.3fc7131f.chunk.js.map